# Generated by devtools/yamaker.

LIBRARY()

LICENSE(
    Apache-2.0 AND
    MIT
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

PEERDIR(
    contrib/clickhouse/base/base
    contrib/clickhouse/base/widechar_width
    contrib/libs/aws-sdk-cpp/aws-cpp-sdk-core
    contrib/libs/aws-sdk-cpp/aws-cpp-sdk-s3
    contrib/libs/c-ares
    contrib/libs/cctz
    contrib/libs/cctz/tzdata
    contrib/libs/double-conversion
    contrib/libs/fmt
    contrib/libs/libunwind
    contrib/libs/lz4
    contrib/libs/lzma
    contrib/libs/miniselect
    contrib/libs/pdqsort
    contrib/libs/poco/Crypto
    contrib/libs/poco/Foundation
    contrib/libs/poco/JSON
    contrib/libs/poco/Net
    contrib/libs/poco/NetSSL_OpenSSL
    contrib/libs/poco/Util
    contrib/libs/poco/XML
    contrib/libs/re2
    contrib/libs/snappy
    contrib/libs/xxhash
    contrib/libs/zstd
    contrib/restricted/boost/circular_buffer
    contrib/restricted/boost/context
    contrib/restricted/boost/convert
    contrib/restricted/boost/dynamic_bitset
    contrib/restricted/boost/filesystem
    contrib/restricted/boost/geometry
    contrib/restricted/boost/heap
    contrib/restricted/boost/multi_index
    contrib/restricted/boost/program_options
    contrib/restricted/boost/system
    contrib/restricted/boost/tti
    contrib/restricted/cityhash-1.0.2
    contrib/restricted/dragonbox
    contrib/restricted/fast_float
    contrib/restricted/magic_enum
    library/cpp/re2_st
    library/cpp/sanitizer/include
)

ADDINCL(
    GLOBAL contrib/clickhouse/base/pcg-random
    GLOBAL contrib/clickhouse/src
    GLOBAL contrib/clickhouse/src/Core/include
    contrib/clickhouse/base
    contrib/clickhouse/base/widechar_width
    contrib/libs/double-conversion
    contrib/libs/libunwind/include
    contrib/libs/lz4
    contrib/libs/miniselect/include
    contrib/libs/pdqsort
    contrib/libs/xxhash
    contrib/libs/zstd/include
    contrib/restricted/cityhash-1.0.2
    contrib/restricted/fast_float/include
)

NO_COMPILER_WARNINGS()

NO_UTIL()

IF (OS_DARWIN)
    CFLAGS(
        GLOBAL -DOS_DARWIN
    )
ELSEIF (OS_LINUX)
    CFLAGS(
        GLOBAL -DOS_LINUX
    )
ENDIF()

CFLAGS(
    -DAWS_SDK_VERSION_MAJOR=1
    -DAWS_SDK_VERSION_MINOR=7
    -DAWS_SDK_VERSION_PATCH=231
    -DBOOST_ASIO_HAS_STD_INVOKE_RESULT=1
    -DBOOST_ASIO_STANDALONE=1
    -DCARES_STATICLIB
    -DENABLE_MULTITARGET_CODE=1
    -DENABLE_OPENSSL_ENCRYPTION
    -DHAS_RESERVED_IDENTIFIER
    -DLZ4_DISABLE_DEPRECATE_WARNINGS=1
    -DPOCO_ENABLE_CPP11
    -DPOCO_HAVE_FD_EPOLL
    -DPOCO_OS_FAMILY_UNIX
    -DUNALIGNED_OK
    -DWITH_COVERAGE=0
    -DWITH_GZFILEOP
    -DX86_64
    -DZLIB_COMPAT
    -DZOOKEEPER_LOG
    -D_LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS
    -D__GCC_HAVE_DWARF2_CFI_ASM=1
)

SRCDIR(contrib/clickhouse/src)

SRCS(
    Common/ActionLock.cpp
    Common/AlignedBuffer.cpp
    Common/Allocator.cpp
    Common/CaresPTRResolver.cpp
    Common/ClickHouseRevision.cpp
    Common/Config/AbstractConfigurationComparison.cpp
    Common/Config/ConfigHelper.cpp
    Common/Config/ConfigProcessor.cpp
    Common/Config/ConfigReloader.cpp
    Common/Config/YAMLParser.cpp
    Common/Config/configReadClient.cpp
    Common/CurrentMemoryTracker.cpp
    Common/CurrentMetrics.cpp
    Common/CurrentThread.cpp
    Common/DNSPTRResolverProvider.cpp
    Common/DNSResolver.cpp
    Common/DateLUT.cpp
    Common/DateLUTImpl.cpp
    Common/Dwarf.cpp
    Common/Elf.cpp
    Common/Epoll.cpp
    Common/ErrorCodes.cpp
    Common/Exception.cpp
    Common/FieldVisitorDump.cpp
    Common/FieldVisitorHash.cpp
    Common/FieldVisitorSum.cpp
    Common/FieldVisitorToString.cpp
    Common/FieldVisitorWriteBinary.cpp
    Common/FileCache.cpp
    Common/FileCacheFactory.cpp
    Common/FileCacheSettings.cpp
    Common/FileChecker.cpp
    Common/FileSegment.cpp
    Common/GetPriorityForLoadBalancing.cpp
    Common/IO.cpp
    Common/IPv6ToBinary.cpp
    Common/IntervalKind.cpp
    Common/JSONBuilder.cpp
    Common/LRUFileCachePriority.cpp
    Common/LockMemoryExceptionInThread.cpp
    Common/Macros.cpp
    Common/MemoryStatisticsOS.cpp
    Common/MemoryTracker.cpp
    Common/MemoryTrackerBlockerInThread.cpp
    Common/NamePrompter.cpp
    Common/OpenSSLHelpers.cpp
    Common/OptimizedRegularExpression.cpp
    Common/OvercommitTracker.cpp
    Common/PODArray.cpp
    Common/PipeFDs.cpp
    Common/ProcfsMetricsProvider.cpp
    Common/ProfileEvents.cpp
    Common/ProgressIndication.cpp
    Common/QueryProfiler.cpp
    Common/RWLock.cpp
    Common/RemoteHostFilter.cpp
    Common/SensitiveDataMasker.cpp
    Common/SettingsChanges.cpp
    Common/SharedLibrary.cpp
    Common/ShellCommand.cpp
    Common/StackTrace.cpp
    Common/StatusFile.cpp
    Common/StatusInfo.cpp
    Common/StringUtils/StringUtils.cpp
    Common/StudentTTest.cpp
    Common/SymbolIndex.cpp
    Common/SystemLogBase.cpp
    Common/TLDListsHolder.cpp
    Common/TargetSpecific.cpp
    Common/TaskStatsInfoGetter.cpp
    Common/TerminalSize.cpp
    Common/ThreadFuzzer.cpp
    Common/ThreadPool.cpp
    Common/ThreadProfileEvents.cpp
    Common/ThreadStatus.cpp
    Common/Throttler.cpp
    Common/TimerDescriptor.cpp
    Common/TraceSender.cpp
    Common/TransactionID.cpp
    Common/UTF8Helpers.cpp
    Common/UnicodeBar.cpp
    Common/VersionNumber.cpp
    Common/WeakHash.cpp
    Common/ZooKeeper/IKeeper.cpp
    Common/ZooKeeper/TestKeeper.cpp
    Common/ZooKeeper/ZooKeeper.cpp
    Common/ZooKeeper/ZooKeeperCommon.cpp
    Common/ZooKeeper/ZooKeeperConstants.cpp
    Common/ZooKeeper/ZooKeeperIO.cpp
    Common/ZooKeeper/ZooKeeperImpl.cpp
    Common/ZooKeeper/ZooKeeperLock.cpp
    Common/ZooKeeper/ZooKeeperNodeCache.cpp
    Common/atomicRename.cpp
    Common/checkStackSize.cpp
    Common/clearPasswordFromCommandLine.cpp
    Common/clickhouse_malloc.cpp
    Common/createHardLink.cpp
    Common/escapeForFileName.cpp
    Common/filesystemHelpers.cpp
    Common/formatIPv6.cpp
    Common/formatReadable.cpp
    Common/getCurrentProcessFDCount.cpp
    Common/getExecutablePath.cpp
    Common/getHashOfLoadedBinary.cpp
    Common/getMappedArea.cpp
    Common/getMaxFileDescriptorCount.cpp
    Common/getMultipleKeysFromConfig.cpp
    Common/getNumberOfPhysicalCPUCores.cpp
    Common/getRandomASCIIString.cpp
    Common/getResource.cpp
    Common/hasLinuxCapability.cpp
    Common/hex.cpp
    Common/isLocalAddress.cpp
    Common/isValidUTF8.cpp
    Common/new_delete.cpp
    Common/parseAddress.cpp
    Common/parseGlobs.cpp
    Common/parseRemoteDescription.cpp
    Common/quoteString.cpp
    Common/randomSeed.cpp
    Common/register_objects.cpp
    Common/remapExecutable.cpp
    Common/setThreadName.cpp
    Common/thread_local_rng.cpp
    Common/waitForPid.cpp
    IO/AIO.cpp
    IO/Archives/ZipArchiveReader.cpp
    IO/Archives/ZipArchiveWriter.cpp
    IO/Archives/createArchiveReader.cpp
    IO/Archives/createArchiveWriter.cpp
    IO/Archives/hasRegisteredArchiveFileExtension.cpp
    IO/AsynchronousReadBufferFromFile.cpp
    IO/AsynchronousReadBufferFromFileDescriptor.cpp
    IO/BoundedReadBuffer.cpp
    IO/BrotliReadBuffer.cpp
    IO/BrotliWriteBuffer.cpp
    IO/Bzip2ReadBuffer.cpp
    IO/Bzip2WriteBuffer.cpp
    IO/CascadeWriteBuffer.cpp
    IO/CompressionMethod.cpp
    IO/ConcatSeekableReadBuffer.cpp
    IO/DoubleConverter.cpp
    IO/FileEncryptionCommon.cpp
    IO/ForkWriteBuffer.cpp
    IO/HTTPChunkedReadBuffer.cpp
    IO/HTTPCommon.cpp
    IO/HadoopSnappyReadBuffer.cpp
    IO/HashingWriteBuffer.cpp
    IO/IOThreadPool.cpp
    IO/LZMADeflatingWriteBuffer.cpp
    IO/LZMAInflatingReadBuffer.cpp
    IO/LimitReadBuffer.cpp
    IO/LimitSeekableReadBuffer.cpp
    IO/Lz4DeflatingWriteBuffer.cpp
    IO/Lz4InflatingReadBuffer.cpp
    IO/MMapReadBufferFromFile.cpp
    IO/MMapReadBufferFromFileDescriptor.cpp
    IO/MMapReadBufferFromFileWithCache.cpp
    IO/MMappedFile.cpp
    IO/MMappedFileDescriptor.cpp
    IO/MemoryReadWriteBuffer.cpp
    IO/MySQLBinlogEventReadBuffer.cpp
    IO/MySQLPacketPayloadReadBuffer.cpp
    IO/MySQLPacketPayloadWriteBuffer.cpp
    IO/NullWriteBuffer.cpp
    IO/OpenedFile.cpp
    IO/ParallelReadBuffer.cpp
    IO/PeekableReadBuffer.cpp
    IO/Progress.cpp
    IO/ReadBufferFromEncryptedFile.cpp
    IO/ReadBufferFromFile.cpp
    IO/ReadBufferFromFileBase.cpp
    IO/ReadBufferFromFileDecorator.cpp
    IO/ReadBufferFromFileDescriptor.cpp
    IO/ReadBufferFromIStream.cpp
    IO/ReadBufferFromMemory.cpp
    IO/ReadBufferFromPocoSocket.cpp
    IO/ReadBufferFromS3.cpp
    IO/ReadHelpers.cpp
    IO/S3/PocoHTTPClient.cpp
    IO/S3/PocoHTTPClientFactory.cpp
    IO/S3Common.cpp
    IO/SeekAvoidingReadBuffer.cpp
    IO/SnappyReadBuffer.cpp
    IO/SnappyWriteBuffer.cpp
    IO/SynchronousReader.cpp
    IO/TimeoutSetter.cpp
    IO/UseSSL.cpp
    IO/WithFileName.cpp
    IO/WithFileSize.cpp
    IO/WriteBufferFromEncryptedFile.cpp
    IO/WriteBufferFromFile.cpp
    IO/WriteBufferFromFileBase.cpp
    IO/WriteBufferFromFileDecorator.cpp
    IO/WriteBufferFromFileDescriptor.cpp
    IO/WriteBufferFromFileDescriptorDiscardOnFailure.cpp
    IO/WriteBufferFromHTTP.cpp
    IO/WriteBufferFromOStream.cpp
    IO/WriteBufferFromPocoSocket.cpp
    IO/WriteBufferFromS3.cpp
    IO/WriteBufferFromTemporaryFile.cpp
    IO/WriteBufferValidUTF8.cpp
    IO/WriteHelpers.cpp
    IO/ZlibDeflatingWriteBuffer.cpp
    IO/ZlibInflatingReadBuffer.cpp
    IO/ZstdDeflatingAppendableWriteBuffer.cpp
    IO/ZstdDeflatingWriteBuffer.cpp
    IO/ZstdInflatingReadBuffer.cpp
    IO/copyData.cpp
    IO/parseDateTimeBestEffort.cpp
    IO/readFloatText.cpp
)

END()
